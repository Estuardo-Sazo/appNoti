<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>Reporte</ion-title>
    <ion-buttons slot="end">
      <ion-button        
        color="danger"
        *ngIf="report.user._id === userl._id" 
        (click)="showConfirm(report._id)"
      >
      <ion-icon name="trash"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card>
    <ion-item>
      <ion-avatar slot="start">
        <img src="{{imageProfile}}" alt="" />
      </ion-avatar>
      <ion-label>
        
        <h3>{{report.user.names}} {{report.user.surnames}}</h3>
        <p>{{report.created | date:'d MMM y, h:mm a'}}</p>

      </ion-label>
    </ion-item>
    <!-- ngIf imgs -->

    <ion-slides pager="true" *ngIf="report.imgs.length  >1">
      <ion-slide
        *ngFor="let img of report.imgs"
        class="image-slide"
        style="background-image: url('{{img | imageReport:report.user._id}}');"
      >
      </ion-slide>
    </ion-slides>

    <ion-slides
      pager="false"
      *ngIf="imgsR.length  ===1"
      [options]="slideSoloOpts"
    >
      <ion-slide
        class="image-slide"
        style="background-image: url('{{report.imgs[0] | imageReport:report.user._id}}');"
      >
      </ion-slide>
    </ion-slides>
    <ion-card-header
      ><ion-card-title>{{report.message}}</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-card-subtitle><span class="text-bold">Tipo de reporte:</span> {{report.type.name}}</ion-card-subtitle>

      <div *ngIf="report.coords">
        <ion-card-subtitle><span class="text-bold">Ubicaci√≥n:</span></ion-card-subtitle>
        <app-mapa [(coords)]="report.coords" *ngIf="report.coords"></app-mapa>

      </div>
    </ion-card-content>
    <ion-footer>
      <ion-row>
        <ion-col center text-center>
          <ion-button color="primary" (click)="openModal()">
            <ion-icon slot="start" name="chatbubbles"></ion-icon>
            <p> Comentar</p>
          </ion-button>
        </ion-col>       
      </ion-row>
      
    </ion-footer>
    
  </ion-card>
  <!-- Commnents -->
  <app-comments [comments]="comments"></app-comments>
  <!-- End comments -->

  <!-- Mapa -->
</ion-content>
